---
layout: post
title:  "海思移植"
date:   2021-5-21
categories: GCC SSH Dropbear
tags: Using makefile
excerpt: 使用Dropbear在嵌入式Linux中移植ssh环境
--- 

# 前言
SSH是远程终端连接器,相较于使用嵌入式Linux串口进行连接，SSH不仅在使用上更为便捷，打印数据也会更快

## 移植细节
本人移植使用轻量级SSH工具

首先编译zlib 之前已经编译好了  然后再编译 dropbear  都创建好build 文件夹  

参考网上教程链接   记得修改相关编译参数   然后编译并安装  将安装后的文件夹种的内容  移植到板卡的相关目录中 分别为

```
/usr/local/bin/:
dbclient  dropbearconvert  dropbearkey

/usr/local/sbin/:
dropbear
```
在本次移植过程中 由于没有 local 目录没有新建  所以直接放到了 bin and  sbin 中 ，依然可以使用   相关的东西找到 它 然后创建  链接使用的密钥。

例子： 视情况而定可能会需要多创建几个 根据 运行时的提示进行创建即可
`dropbearkey -t rsa -f /etc/dropbear/dropbear_rsa_host_key -s 2048`
`dropbearkey -t dss -f /etc/dropbear/dropbear_dsa_host_key`
`....`

然后 先使用 在当前页面中  打开 即 保存在前端部署  
`dropbear -p :2222 -F -E `  这个很坑的 端口开了 2222 尤其需要注意一下
`最后将其开在后台   然后 使用  命令查看 进程占用端口  即可`


` netstat -anp`

如果看到端口连接成功说明当前配置没有问题。。。。。。嘻嘻嘻嘻嘻嘻嘻
 


# nfs 
##  nfs文件挂载指令

`mount -t nfs -o nolock 192.168.200.101:/e/Users/nfs  /nfs`





移植使用python 但是没有什么用 （第二次文件系统就没有移植了）


移植使用gcc （移植失败  希望以后尝试）


移植使用opencv 移植的4.0.1 移植成功   已经跑了一些 小的测试用例  目前  因为设备问题  没有 dev 类型的设备  

 我想使用 屏幕驱动框架  将hispark 中的屏幕作为一个设备显示各种各样的东西  希望可以成功

 还想使用 设备类的框架 使用巧妙的方法将当前 设备中色 sensor 作为真正的 传感器设备 挂载在当前目录中。

 ——纸上得来终觉浅，绝知此事要躬行——